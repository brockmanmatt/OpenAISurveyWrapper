---

title: wait, try other

keywords: fastai
sidebar: home_sidebar



---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: train_test_alcohol.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>9999</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">openai</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../gpt3/key.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">))[</span><span class="s2">&quot;key&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;alcohol&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">responses</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>5000</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>
<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">250</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>20</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Everyone was getting turnt up and crazy while ...</td>
      <td>126.072</td>
      <td>0</td>
    </tr>
    <tr>
      <td>84</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>That moment when you open your fridge and you'...</td>
      <td>458.447</td>
      <td>0</td>
    </tr>
    <tr>
      <td>98</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Motto to live by: lift heavy, drink heavy, stu...</td>
      <td>343.397</td>
      <td>0</td>
    </tr>
    <tr>
      <td>135</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Saturday night, syllabus week. Blackout or bla...</td>
      <td>447.956</td>
      <td>0</td>
    </tr>
    <tr>
      <td>175</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I pee like a girl when I'm drunk so I don't miss</td>
      <td>537.305</td>
      <td>0</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4853</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Never drinking as much as I did last night aga...</td>
      <td>659.913</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4861</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I woke up smelling like alcohol and poor decis...</td>
      <td>759.864</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4871</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>At 21 my body doesn't recover like it used to....</td>
      <td>621.654</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4921</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Alcohol Sex University</td>
      <td>724.136</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you an...</td>
      <td>303.231</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>211 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">f1_score</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAAD4CAYAAAD8Zh1EAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4yLjEsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+j8jraAAAgAElEQVR4nO3deXyU1dn/8c+VmUx2srMmIWHflxAWwV1R3K36KKKt9qfSVq0++mirXWxr+7R2b624YLWPreJeFRWLG+6AgCyGsIWwJZCQhOx7Muf3x0zCAIEMyST3LNf79cqLuZeZuQKTLyfnPufcYoxBKaVU4AuzugCllFK+oYGulFJBQgNdKaWChAa6UkoFCQ10pZQKEnar3jglJcVkZmZa9fZKKRWQ1q1bV2aMSe3smGWBnpmZydq1a616e6WUCkgisud4x7TLRSmlgoQGulJKBQkNdKWUChKW9aErpVR3tLS0UFhYSGNjo9Wl9KrIyEjS0tIIDw/3+jka6EqpgFJYWEhcXByZmZmIiNXl9ApjDOXl5RQWFpKVleX187TLRSkVUBobG0lOTg7aMAcQEZKTk0/6txANdKVUwAnmMG/Xne9Ru1yUCjCf55exuqC802NjB/XjgomD+rgi5S800JXyU//JLeb3y7fieceCaIeN7SW1NLc6OboBZwzERtg10HtZZWUlS5Ys4dZbbz2p51144YUsWbKEhISEXqpMA10pv7Vi60H2VzZyztj+ANQ2tfLRtlIA7p47ijvOGXnE+Y9/vJOH3tlK/sEaRvSP6/N6Q0VlZSWPPvroMYHe2tqK3X78SF22bFlvl6Z96Ep115LVe8k/WNNrr19W20RmSgyPLMjmkQXZ/P6qyR3HRg04NrBTYyMAOPdPn/RaTQruu+8+du7cyZQpU5g+fTqnnXYal156KePGjQPg8ssvZ9q0aYwfP57Fixd3PC8zM5OysjJ2797N2LFjueWWWxg/fjznnXceDQ0NPqlNW+hKdUNrm5MfvfY1keFhbP3lBb3yHmW1TaTEOjq2k2MOPx49sJNAj4voeGyMCYkLh794czN5+6t9+prjBvfjZ5eMP+7xhx56iNzcXDZs2MBHH33ERRddRG5ubsfwwqeffpqkpCQaGhqYPn06V155JcnJyUe8xo4dO3j++ed58sknufrqq3n11Ve5/vrre1y7BrpS3VDd2ApAY4uThf9ci9Pd0T1nRDLfnuP9uOETKattZnhqbMd2WNjhgM5Iij7m/CSPwK9qaCEh2nHMOcr3ZsyYccRY8YcffpjXXnsNgH379rFjx45jAj0rK4spU6YAMG3aNHbv3u2TWrwKdBGZB/wVsAF/N8Y8dNTxPwNnuTejgf7GmN7r+VfKYpX1zR2PP95eyvDUWEprm1i5s4xvzhqK3db93sziqkZeWruP0pomUjxa3Z5sYce2vtMTD4d8aU1TSAT6iVrSfSUmJqbj8UcffcT777/PypUriY6O5swzz+x0LHlExOF/V5vN1nddLiJiAxYBc4FCYI2ILDXG5LWfY4y5y+P87wNTfVKdUn6qqqGl4/EZo1JZ/K0c3thQxJ0vbODb/7eGyHBbx/HUuAh+edmETkO4M8+s3M1jH+0kTGBSWvwRx15cOOuIlrqn+OhwltwykwVPrqakuomRnfSzq56Li4ujpqbzaydVVVUkJiYSHR3N1q1bWbVqVZ/W5k0LfQaQb4wpABCRF4DLgLzjnH8t8DPflKeUdUqqG1m/t5Kzx/THYT+yxV3pEegzspIAV7DPyEqirPZw6726oYWiygZuOjXriO6TE8nbX83YQf14587Tjjk2c1hyJ884bEC/SAB++OomPr/vbK/eT52c5ORk5syZw4QJE4iKimLAgAEdx+bNm8fjjz/O2LFjGT16NLNmzerT2rwJ9CHAPo/tQmBmZyeKyFAgC/jwOMcXAgsBMjIyTqpQpfraPS9v5NMdZTyyYCoXTxp8xLGqelegL/7mNM4Z6/qBToh28NJ3TjnivC92lrlazFWNXgX6ZzvK+Hh7KVdkD+lWzcNSYhgcH0lDS1u3nq+8s2TJkk73R0RE8M4773R6rL2fPCUlhdzc3I7999xzj8/q8vVF0fnAK8aYTj9NxpjFwGKAnJwc09k5SvmDnaW1fLqjDICHP9jBeeMG8s+Vu/l4u2sc+IEqV7/otKGJJ+xKGehuMRdXe7cmx/tbSgC46dTuXVgVEa7KSedvH+6gtc3Zo758FXi8+dcuAtI9ttPc+zozH3i+p0UpZaWDNY2c88ePO7a3l9Tyz5W7+duH+WwvqaGuqZV+kXYumzKYxC4uPA6MdwX65i6G1jW2tPHKukI+zy8jOyOB8YPjT3j+iaTGOjAGDnlcuFWhwZtAXwOMFJEsEXHgCu2lR58kImOARGClb0tUqm8t3+xqJd9/wZiOfU99touqhhbunjuKf986h3/fOoe/zp963AuU7aIddhz2MJ76bBf1za3HPe/Njfu55+WN7DhY22U/eVdS3BOMymuDN9CNCf5f8LvzPXYZ6MaYVuB2YDmwBXjJGLNZRB4UkUs9Tp0PvGBC4W9aBa2m1jZ++rqrf/Pbc7KYmuEafdvexTJ7eMpJv+a3Z2cCsL/y+N0uXxdVERthZ/WPzuEH548+6ffw1D7U8aev53LzM2u5+6UNNDQHT596ZGQk5eXlQR3q7euhR0ZGntTzvOpDN8YsA5Ydte+Bo7Z/flLvrJQfam/VXj8rA4c9jBcXnkL2L9+jtqmVH8wbTXonE3q6cubo/jzxSQEl1Y2M6O+6MLpoRT6Pf7yz45yG5jayMxI7Rqn0xJiBccwalkR1QytltTXsLq/n2hkZTM9M6vFr+4O0tDQKCwspLS21upRe1X7HopOhM0WV8nCozhXop41MBcBhD2P28GTezSthTjda5wAD+rlazCUeF0bf3nSApBgHZ4/p37Hvggm+WSUxLjKcFxa6Rtts3l/FRQ9/RnltU5fPa2lzIuD3F1LDw8NP6i4+oUQDXSkP7YHuuW7KIwuyqWxopn9c91rP7RdGX1lXyPaSWgC2l9Rwy+nD+OG8MSd6ao+196eXedGfPuvXH5Ac6+Ddu87o1ZpU79FAV8pDe6AnegS6wx7W7TAH14XRKekJrN1Twdo9FQBEhts4Y1Rqz4r1Qvv6Ll1dIDXGUF7XTHld8F5IDQUa6Ep56KyF7guv3zbHp6/nrXBbGAnR4ewsrWVrsWvoZJgIw1NjO8bPF1U2sL/SN2uJKGtpoCvlobyuCVuY0C8y3OpSfGZQfBRLN+5n6cb9Hft+fOFYbjl9GHvL6znjDysI4gEjIUUDXSkPRRUNDIqP7HJ8eSB59Lpsth44PLHpB69uYu+hesA1XNIYeODicbybV8yqgkM0NLcR5bAd7+WUH9NAV8pDYUUDaYlRVpfhU1kpMWSlHF7i9Y/vbae8zjXqZVtJDWECC2ZmEBNhY1XBIQ7VNzPEEVx/B6HCv8cnKdXHXIF+8mPNA0lSjKNj1MuOkhqGJscQGW4jKcY1IuZQEM8wDXYa6Eq5VdW3UFLTyNBuTB4KJCmxjo6Lv9tKahg1wDXZKSnGdd1A14AJXNrlokLegaoGnl21hwmD4zGm6zXHA11SjIP9lQ38fvlW9pTXc9FE14Sm9oXGymubaG1zdpzv7xON1GEa6Crk3fvyJj7LL2NyWjzRDhtT0oP77olT0xN5cc0+Hv+4gHCbcMpw139gye4ul7tf2sjdL23sOP+3V07kmul6/4JAoIGuQl5798PGwirOHJ16zN2Jgs2V09K4ctqxa4TERR6Og9nDkzllWDKPfbyT3KJqrpnelxWq7gruT65SXTDGcLDm8Don3V2vJRh4DtW8MjuN758zkgH9IqnQPvWAoS10FdKWby6mzGPhqtkjgrv/vCvxUeFUNbQwyn2D6YTocN7adAD4CoctjLvmjurWipOqb2igq5DV2NLGL9/aAsBd545CBMYN6mdxVdZ65v/NoKC0lglDXH8PLe6Lo6sKyimrbWZSWjw3ztGVDv2VBroKWW9sKKKosoErpg7hznNHWl2OX5iSnnDEReH2Rb3+ePUUbnj6SyobWqwqTXlB+9BVyFqxtZSkGAd/vHqy1aX4rcp6V4CPGRhHXKS9Y1v5Jw10FZIq65v5LL+M88cPRCR41m3xtaduyOGKqUPoHxdBYrSDSr1A6te0y0WFnC0Hqrno4U9xGjhrdO+vSR7IZo9IYfYI18ifhOhwKrSF7te0ha5Czju5xQD8/qpJnDN2gMXVBI6EaMcRt9FT/kcDXYWcD7eWkJ2RyH/lpHfc5EF1rV+kna3FNXyxs8zqUtRxaKCrkPHimr2c/rsV5BZVc/bY/l0/QR3hxtmZAOwsrbO2EHVcXgW6iMwTkW0iki8i9x3nnKtFJE9ENovIEt+WqVTPvf11MfXNrVyTk85VnUx9Vyc2MS0egCq9MOq3urwoKiI2YBEwFygE1ojIUmNMnsc5I4H7gTnGmAoR0eaP8js7D9YyZ0QKv71qktWlBKQIu41oh43K+haMMeQdqKaxpQ2ApJiII26ioazhzSiXGUC+MaYAQEReAC4D8jzOuQVYZIypADDGHPR1oUr1xPLNxRRVNnB1SrrVpQS0hKhwKhtaWFVwiGufXNWx3xYmrPvJuSRE+/bm2urkeNPlMgTY57Fd6N7naRQwSkQ+F5FVIjLPVwUq5QuLPykA4LzxOqqlJ+KjHVTWt7B5fxUAj18/jdvPGkGb01DqsciZsoavxqHbgZHAmUAa8ImITDTGVHqeJCILgYUAGRm6vrLqGwdrGvlqbwV3nTuKsSG+VktPJUSFU1hRz6oCQ3KMg3kTBhLtsMEKqNJlASznTQu9CPD8PTXNvc9TIbDUGNNijNkFbMcV8Ecwxiw2xuQYY3JSU3VCh+ob7+cdxBg4f4K2zntqUEIkW4treH/LQcYNdv3nGB/lunWdLgtgPW9a6GuAkSKShSvI5wMLjjrndeBa4B8ikoKrC6bAl4Uq1V3r91aQEhvBaPeSsKr7HrxsAtfOcP12PbK/616k7YGuLXTrdRnoxphWEbkdWA7YgKeNMZtF5EFgrTFmqfvYeSKSB7QB9xpjynuzcKW8teNgLaMGxOqaLT4QG2FnembSEfs00P2HV33oxphlwLKj9j3g8dgAd7u/lPIbTqch/2AtV2YffR1f+Uo/DXS/oYtzqaBV29TKktV7qG1qJXtootXlBC1bmBAXYddA9wMa6CpoPboin0c/2klchF0X4epl/aLCqdZAt5wGugpK33r6Sz7bUcrs4ck8el02sRH6Ue9N7fciVdbST7kKOluLq/lkeynnjh3A3XNH6ezFPqCB7h800FVQqapv4V8r92ALEx66ciIpsRFWlxQS4qPC2Vlaa3UZIU8DXQUNYwzzn1zFlgPVnDEqVcO8D2kL3T9ooKuAVlnfzI3/WENVQwtOY9hTXs/Np2bx3TOHW11aSImP1kD3BxroKqC9sWE/G/ZVcuHEgdjDwpg9PJk7zx1JXGS41aWFlPiocJpanZzzx4+8nsA1NCmaJ7+VQ5jeNcpnNNBVQHv1q0LGD+7Ho9dNs7qUkHb++IFsK66hzWm8On93eR0fbD1IdWOLXrT2IQ10FbB2lNSwqbCKn148zupSQt6I/rE8fO1Ur89/ZV0h97y8keqGVg10H9JAVwHpudV7+NVbW7CFCZdOHmx1Oeok9Yt0RU91o/a7+5IGugoI+w7VU9XQwoQh8Tidhic+LmBQQiTfO2M4qXE6miXQtK//orNLfUsDXfm95lYnZ/3hI1qdhi/uO5t/f1XI3kP1/PmayXxjqt7sORDpCo29QwNd+b1384ppdV9se271Hhat2EmYwLzxgyyuTHVXRwtdu1x8SgNd+b3nVu0lwh5GU6uTRSt2AvDe3WcQ5bBZXJnqrvY+9A37KhnQL/KIY2MG9mNgfGRnT1Nd0EBXfi3/YC0rC8q59/zR/H75NgDeuG0Ow1NjLa5M9USMw05chJ3nv9zH81/uO+LYrGFJvLDwFIsqC2wa6MqvLVm9l3CbcM30dMYMjCMjKZqReiu5gBcWJiy/63SKqxuP2P+nd7ezv6rBoqoCnwa68lu5RVU8/fkuLpk8mJTYCF3TPMgMTohicELUEfvSk6LZVlJjUUWBL8zqApTqTHOrk5++kQvADacMtbga1Vf6Rdp1KGMPaAtd+Z3tJTWc9+dPAJg/PZ2co25KrIJXP/eaMI0tbUSG2yipbqSwor7TcyPsNsYP7qc3//agga78zhMfF3Q8PnN0fwsrUX2tffRLTWMrkeE2rnr8C/YdOn6f+r9umsFpI1P7qjy/p4Gu/MrfPy3g1a8KOWdMf66ens45YzTQQ0n7+PSaxhbsYcK+Qw1cPyuD88YNPOK8stom7n5pI8VVjZ29TMjSQFd+5c1NBwD4zZUT6R+nY5FDTZy7hf7MF7tpX7dx7riBnD7qyFZ4RV0z4GrJq8O8uigqIvNEZJuI5IvIfZ0cv1FESkVkg/vrZt+XqoJdbVMrm4uq+N6ZwzXMQ1RWSiwR9jCeWbmHf67cQ1yknYlD4o85L9aja0Yd1mULXURswCJgLlAIrBGRpcaYvKNOfdEYc3sv1KhCwIdbS/jFm3m0Og3njx/Y9RNUUMpKiSH3F+d3rKtuDxPstmPbneG2MKLCbdTo0gFH8KaFPgPIN8YUGGOagReAy3q3LBVqXlyzj4q6Zu44ZyRT0hOsLkdZKNwWRmS4jchwW6dh3i4u0q4t9KN4E+hDAM+5uYXufUe7UkQ2icgrIpLe2QuJyEIRWSsia0tLS7tRrgpGrW1O1uyuYO64gdw9d5TV5agAERdpp6ZJW+iefDWx6E0g0xgzCXgPeKazk4wxi40xOcaYnNRUHWqkXJblFnOorpnzx+tMUOW9uMhwKupaaGxps7oUv+FNoBcBni3uNPe+DsaYcmNMk3vz74De4FF57YMtJaTGRXCuTu1XJyExOpyVBeVM+vm77C6rs7ocv+BNoK8BRopIlog4gPnAUs8TRMRzYepLgS2+K1EFs9Y2Jyt3ljMzK0nv/q5Oyg8vGMONszNpbnOy51Dns0lDTZeBboxpBW4HluMK6peMMZtF5EERudR92h0isllENgJ3ADf2VsEquLyTW8zBmiYu0fuCqpM0ZmA/FszMANDRLm5eTSwyxiwDlh217wGPx/cD9/u2NBXsWtucvJtXQkqsg7na3aK6ITbCFWG1OtoF0JmiyiLFVY186+nVbC+p5ZLJg7W7RXVLnE4wOoIGuupzb23az/efX48xsPD0YXxzli6Pq7onxmFHBGqaNNBBA131sabWNn6zbCujB8Txw3ljOHN0qi5/qrotLEyIddi1D91NA131qX+t3ENRZQPP3jSTU0emWF2OCgKxkXbtQ3fTOxapPlPV0MIjK/I5bWSKhrnymdgIOy+vK+TLXYesLsVyGuiq1zW2tHHH8+u55omVVNa38MN5Y6wuSQWR9sbBk58WdHFm8NNAV71u/d5Klm7cjzFw3wVjmNDJcqhKddfPLhnP9MxE7XZB+9BVH3h/SwkAz948k9S4CIurUcEoNsJOWW2z1WVYTlvoqlftr2zgqc92kRLr0DBXvSY2MpxaHbqoga561wfu1vlvrphkcSUqmMVG6NrooIGuelFjSxtPfrqL0QPiOHes3uxZ9Z64SDu1uja6BrrqPU98XMDeQ/U8cMk4nTykelVshJ3GFictbU6rS7GUBrrqFTWNLTz6UT4XTRrEnBE65lz1rvZFuupCvB9dR7moXrFiWylNrU5unJ1pdSkqBMS6F+n6r8dXYreFkZUSzaIF2SH3m6G20JXPNba08Zf3tpORFE12RqLV5agQMGdEChdPGkRmSgxOp2HZ18XUNYferek00JXPPfJhPgVldfzvNyZg02VxVR8YkhDFIwuyefJbOdzg/q0wFLtfNNCVT20vqeHxj3dyZXYap43UG4Grvhcbwmuka6Arn1q6YT8G+PFFY60uRYWo2AgbQEhONNJAVz5T09jCk58WMHZQHEkxDqvLUSEqNiIc0C4XpXrkR6/l0tTq5Jwxen9QZZ0Ydwu9prGVNqfhYHWjxRX1HQ105RNltU28vWk/N5+axV1zR1ldjgphcR4t9J8v3cyMX3/QsQRFsNNAVz7xxc5ynAYunzrE6lJUiIvx6EP/cOtBAAorGqwsqc94FegiMk9EtolIvojcd4LzrhQRIyI5vitRBYJ9h+oBGJYaY3ElKtTFuGeNPvPFbooqXUFe1xwa/eldBrqI2IBFwAXAOOBaERnXyXlxwJ3Aal8XqfxfUWUDidHhRDt08rGyVoQ9jCuyhxAXFc60oa6JbaFygdSbn74ZQL4xpgBARF4ALgPyjjrvl8BvgXt9WqEKCPsrGxiSGGV1GUohIvzp6ikd2xN/vpy6ptCYNepNl8sQYJ/HdqF7XwcRyQbSjTFvn+iFRGShiKwVkbWlpaUnXazyX/kHa8lIira6DKWOERthD5kWeo8viopIGPAn4H+6OtcYs9gYk2OMyUlN1VmEwaKwop7CigamZyZZXYpSx4iJsGsfuociIN1jO829r10cMAH4SER2A7OApXphNHS8l+caEnaqLpOr/FBMhJ1a7XLpsAYYKSJZIuIA5gNL2w8aY6qMMSnGmExjTCawCrjUGLO2VypWfuWdrw/wh+XbmJwWz8gBcVaXo9QxYiNs2uXSzhjTCtwOLAe2AC8ZYzaLyIMicmlvF6j8V3Ork5+8nktdcxv/+42JVpejVKdiHHbW7angw63BP7nIqzFmxphlwLKj9j1wnHPP7HlZKhD89YPtlNc18+xNM5kwJN7qcpTq1LShibybV8JD72zl7CBflkJniqpuqapv4Z9f7OHiSYM4daT2nSv/9Z0zhnNF9pCQGLqoga5OWpvTcPvzX9HY2sZ3zxhudTlKdSnGYac+BEa6aKCrk/bb/2zl0x1l/OyS8drVogJCTIRdW+hKHW393goWf1JAUoyD+dPTu36CUn4gxmGjuc1Jc6vT6lJ6lQa68lpNYws/fi2XqHAb7999BnabfnxUYIh2L9gV7N0u+hOpvPaH5dvYVlLDY9dn6x2JVEBpvy1dXXNwd7tooCuvHKpr5sW1+7hi6hDOHN3f6nKUOintq4DWB/kEIw105ZWX1u6jscXJwtOHWV2KUictJkRuHK2LVyuvvJNbrNP7VcCKcbfQH/kwn/79Irlk8iBmDw+++RMa6KpLmwor2bivkh9fONbqUpTqlmGpsQxLjWFTURUV20s5WN2oga5C01ubDuCwhTF/hg5TVIEpNS6CD//nTACufnxl0C6nq33oqkurC8qZkp5AXGS41aUo1WPRETbqg3S0iwa6OqE2p2HLgRqmZiRYXYpSPhHjCN47GGmgqxPaX9lAc5uTYakxVpeilE9EO7SFrkJUQVkdAFkpsRZXopRvxATxPUY10NUJrdt9CBEY0V8DXQWH9ha6McbqUnxOR7mo4zLGsHTjfmYPT9ap/ipoRDtstDoNzW1OIuy2br/O+r0VlNc2d3ps2tBEEi34mdFAV8e1vaSW3eX13KKzQ1UQObwMQFu3A72wop4rHvuC4zXyr52Rzm+umNTdErtNA10d17ubixGBueOC+7ZdKrS0LwPw+c4yUmIjuvUaqwrKMQYevS6b9MToI459//mvOFTXecu9t2mgq+N6N6+EqekJ9I+LtLoUpXymPcRvX7K+R6+TGB3O+eMHYguTI/fHOCwbRaOBrjpVUFrL10VV3HfBGKtLUcqnzhrdn3/fOpvGlp6Fbnpi9DFhDtYOi9RAV8doaXNy63NfERkexkUTB1ldjlI+FRYmZGck9trrR4XbOVTX0GuvfyIa6OoY7+QWs7W4hkULsklPiu76CUqpDtEOGw0WrRXj1Th0EZknIttEJF9E7uvk+HdF5GsR2SAin4nION+XqvrK6+uLGBQfyQUTBlpdilIBx8ouly4DXURswCLgAmAccG0ngb3EGDPRGDMF+B3wJ59XqvrEwepGPt5eymVThhDWSf+gUurEohw2Gvw10IEZQL4xpsAY0wy8AFzmeYIxptpjMwYIvilYIcAYwy/ezMMmwjXTdalcpboj2mGjrrnVkpmo3vShDwH2eWwXAjOPPklEbgPuBhzA2Z29kIgsBBYCZGRknGytqhfVNrXy09dzefvrA9x7/miyUnQxLqW6I9phx2mgqdVJZHj3Z6J2h88uihpjFgGLRGQB8BPghk7OWQwsBsjJydFWvJ9wOg3fe3Ydn+eXcffcUXzvjOFWl6RUwIp2uEL89fVFREe4IjY8TDhzdH+iHL0b8N4EehHg+ft3mnvf8bwAPNaTolTfeu7LvXy6o4xfXT6B62cNtbocpQLaoPgoAO7799dH7P/1NyayYGbv9kx4E+hrgJEikoUryOcDCzxPEJGRxpgd7s2LgB2ogLC1uJqHP9jBjKwkruvlD5tSoeD88QP45N6zaG5zAtDc6uTChz+lsqH3lwPoMtCNMa0icjuwHLABTxtjNovIg8BaY8xS4HYRORdoASropLtF+Z+3Nx3grhc30C/Kzk8vGoeIjmpRqqdEhIzkw/M3jDGI0CcjX7zqQzfGLAOWHbXvAY/Hd/q4LtXLtpfUcM/LG5mYFs/ib04juZuLFCmlTkxEiArvm6GMeoOLEFTb1Mp3n11HTISdx67L1jBXqpdFO2zU93DtGG/o1P8Qs72khl+9vYXdZXU8e/NM+vfTlRSV6m19NdlIAz2EbCqsZMGTq6ltauVnl4xj9vAUq0tSKiREh9up74P1XTTQQ8Qr6wq55+WNRIaH8e9bZ/fqanNKqSNFOmw0tDh7/X000EPA6oJyfvjqJjKSonnxO7M6xskqpfpGdHjfrMCoF0WD3Je7DnHTM2sZEBfBG7fN0TBXygJ9tQKjBnoQ215Sw4InV5EU4+C5W2ZZchdypZReFFU91OY0/PKtPOw24aXvnMLAeB3NopRVoh02dpXXMeXBdwG4YmoaD1zi+9tGaKAHqac+K+DTHWX88rLxGuZKWexbp2QS7bBjjOHDbQdZvau8V95HAz0I7TtUz0PvbGXuuAG62JZSfmDCkHgmDIkHoGzJV2w5UN3FM7pH+9CDTGubk/9+cQMG+MWl43V9Fh1yPhsAAAzsSURBVKX8TFS4jcZe6k/XQA8ySzfuZ92eCn50wVgGJ+iIFqX8TW8uA6CBHmTe3Lif9KQobj4ty+pSlFKd6M2FujTQg8g7Xx/gs/wyzh07QLtalPJTkeE2mlqdOJ2+v2mbBnqQePiDHXzvua8YN6gfd54z0upylFLH0X6LusZW37fSNdCDwH9yi/nTe9u5dPJgXvzOKSRE6wQipfxV+31Fe6PbRQM9wG0rruF/XtrA5PQEfnfVpD6/y7hS6uS0/4z2xlIAGugBzBjDXS9uICbCzuJvTtMwVyoAdHS59MJIFw30APbKukLyDlRz19xRDNAbVSgVEKK0ha6Otqe8jp+8nsv0zES+MXWI1eUopbwUE+GaoH/Zos8pqmzw6WtroAegyvpmvvOvdYTbwvjbtdna1aJUAMnOSOScMf0BKDxU79PX1kAPME6n4cev55J/sJa/XTtVF95SKsA47GHcdvYIABp83I/uVaCLyDwR2SYi+SJyXyfH7xaRPBHZJCIfiIiuCNULmlrbuPqJlby96QC3nTWCs9z/yyulAkukvXcujHYZ6CJiAxYBFwDjgGtF5OiFfNcDOcaYScArwO98WqUC4Iv8ctbuqeDe80fr5CGlAljHWHQLWugzgHxjTIExphl4AbjM8wRjzApjTHtn0CogzadVKvaW1/OXD3YQFW7jplOzCAvTqf1KBar2kS4Nzb69cbQ366EPAfZ5bBcCM09w/k3AO50dEJGFwEKAjIwML0tUK7Ye5LYlX2ET4bc6eUipgNce6L7ucvHpDS5E5HogBzijs+PGmMXAYoCcnBzfr0wTZIwxPPDGZv61ag9jBsbx1I3TGaJL4ioV8CIdrs4RX3e5eBPoRUC6x3aae98RRORc4MfAGcaYJt+UF9peWVfIv1bt4eJJg7jvgjEa5koFCYctjDCxpoW+BhgpIlm4gnw+sMDzBBGZCjwBzDPGHPRphSHq9fVF/Oi1r8kZmsjD86dqn7lSQUREemVd9C4vihpjWoHbgeXAFuAlY8xmEXlQRC51n/Z7IBZ4WUQ2iMhSn1YZYhZ/spO7X9rAtKGJPP7NaRrmSgWhKIfNki4XjDHLgGVH7XvA4/G5Pq0qhL22vpBfL9vKeeMG8Jf5U4h26H28lQpGEXYbjS19P8pF9QGn0/DoR/n88b3tzMhKYtF12YTbdCKvUsEqymFj/d4KHnwzz2evqYHuB5pbndzx/Hr+s7mYy6cM5jdXTNIwVyrITc9M5K2NB3h57b6uT/aSGGPN6MGcnByzdu1aS97bnxhj+OO723lkRT73XzCGhacP0/uBKqWOS0TWGWNyOjumLXQL5e2v5uEPdvCfzcWcPaa/hrlSqkc00C2wq6yOB9/czIptpcQ4bNx17ii+f/YIDXOlVI9ooPehljYn/1q5h8c+3klTSxv3nj+a62cOJT463OrSlFJBQAO9lzW2tPHPlbtZVXCIVqfhk+2lTE6L57dXTWLMwH5Wl6eUCiIa6L2ooLSW25asZ8uB6o59d5w9grvPG21hVUqpYKWB3kt2lNRw+aLPcdjDePrGHFJiI6hrauOU4clWl6aUClIa6D7U5jR8sqOUf3y+m0+2l9Iv0s5bd5ymi2oppfqEBroPOJ2GZ1fv4clPC9h3qIGUWAc3zs7kqmlpGuZKqT6jgd5DqwvK+c07W9mwr5KcoYn84PwxnD9+IA67zvRUSvUtDfRuqGtq5bX1Rfzj813sLK0jNS6C//3GBBbMyNCx5Eopy2ign4SWNidvbdrPH5Zvp6iygdED4vjJRWO5Zno6cZE6llwpZS0NdC+U1Tbx5sb9/P3TXR1BvuTmmcwcloxN1ypXSvkJDfTjeD+vhDc37efrwioKyuoA1+poD142nrNG99ebTiil/I4G+lGcTsOSL/fyk9dzSYpxkJ2RwPwZ6czMSmZyeoLV5Sml1HFpoHtYs/sQv3orj42FVcwZkcxTN0wnMtxmdVlKKeWVkA50Ywxf7a3g2VV7WbmznOLqRgb0i+B3V03i8ilDdOihUiqghGSgl1Q38m5eCUtW72XLgWriIuycM7Y/2UMTuWpamt7HUykVkEImuZpbnawqKOeFNXt5L6+EljbD2EH9+M0VE7lsymANcaVUwAvKFHM6DTtLa1m7p4L38krI219NSU0jxkBKrIPLpgzh5tOyGD0gTicCKaWChleBLiLzgL8CNuDvxpiHjjp+OvAXYBIw3xjziq8L7cqhumaWby7m3c3FrNtTQXVjKwBDEqKYPSKZ9MRohqXGMHfcAG2NK6WCUpfJJiI2YBEwFygE1ojIUmNMnsdpe4EbgXt6o8jOVNY3s35vJbvK6lix7SBf7CynzWkYmhzNRZMGk52RQPbQRIalxGgrXCkVErxpqs4A8o0xBQAi8gJwGdAR6MaY3e5jzl6okUN1zXxdVMWu0lq2ldSwfm8lW4trOo4PTY7mO6cP46JJgxg3qJ8GuFIqJHkT6EOAfR7bhcBMX7x5eW0Tu8vr2Flax1d7Kthf1cjlUwZTWtPE6l2H2F1WR2lNEzVNrR3PiY8KZ1JaPBdPGkROZhLDUmNIjY3QEFdKhbw+7UwWkYXAQoDIgcOZ9qv3O45F2MNoanXyyfZSAIalxjB6YBynj0plYHwkk9MSGN5fw1sppY7Hm0AvAtI9ttPc+06aMWYxsBhg0PDx5qcXj2NYSgwZydFkJcewobCSNqchMzmGlFiHBrdSSp0EbwJ9DTBSRLJwBfl8YEFP33hIYhQ3nZp1xL7sjMSevqxSSoWsLue2G2NagduB5cAW4CVjzGYReVBELgUQkekiUgj8F/CEiGzuzaKVUkody6s+dGPMMmDZUfse8Hi8BldXjFJKKYvo6lNKKRUkNNCVUipIaKArpVSQ0EBXSqkgoYGulFJBQgNdKaWChBhjrHljkRpgmyVv7hspQJnVRfSA1m8trd86gVw7wFBjTGpnB6xcGHybMSbHwvfvERFZq/VbR+u3ViDXH8i1d0W7XJRSKkhooCulVJCwMtAXW/jevqD1W0vrt1Yg1x/ItZ+QZRdFlVJK+ZZ2uSilVJDQQFdKqSBhSaCLyDwR2SYi+SJynxU1dEVEnhaRgyKS67EvSUTeE5Ed7j8T3ftFRB52fz+bRCTbuspBRNJFZIWI5InIZhG5M8DqjxSRL0Vko7v+X7j3Z4nIanedL4qIw70/wr2d7z6eaWX97UTEJiLrReQt93bA1C8iu0XkaxHZICJr3fsC4vPjrilBRF4Rka0iskVETgmk+rurzwNdRGzAIuACYBxwrYiM6+s6vPB/wLyj9t0HfGCMGQl84N4G1/cy0v21EHisj2o8nlbgf4wx44BZwG3uv+NAqb8JONsYMxmYAswTkVnAb4E/G2NGABXATe7zbwIq3Pv/7D7PH9yJ66Yw7QKt/rOMMVM8xmwHyucH4K/Af4wxY4DJuP4dAqn+7jHG9OkXcAqw3GP7fuD+vq7Dy1ozgVyP7W3AIPfjQbgmRwE8AVzb2Xn+8AW8AcwNxPqBaOArYCau2X32oz9HuO6mdYr7sd19nlhcdxqu0DgbeAuQAKt/N5By1L6A+PwA8cCuo/8OA6X+nnxZ0eUyBNjnsV3o3hcIBhhjDrgfFwMD3I/99nty//o+FVhNANXv7q7YABwE3gN2ApXGdUtEOLLGjvrdx6uA5L6t+Bh/AX4AON3byQRW/QZ4V0TWichC975A+fxkAaXAP9xdXn8XkRgCp/5u04ui3WRc/5X79ZhPEYkFXgX+2xhT7XnM3+s3xrQZY6bgaunOAMZYXJLXRORi4KAxZp3VtfTAqcaYbFzdEbeJyOmeB/3882MHsoHHjDFTgToOd68Afl9/t1kR6EVAusd2mntfICgRkUEA7j8Puvf73fckIuG4wvw5Y8y/3bsDpv52xphKYAWuLooEEWlff8izxo763cfjgfI+LtXTHOBSEdkNvICr2+WvBE79GGOK3H8eBF7D9Z9qoHx+CoFCY8xq9/YruAI+UOrvNisCfQ0w0n3F3wHMB5ZaUEd3LAVucD++AVffdPv+b7mvls8Cqjx+tetzIiLAU8AWY8yfPA4FSv2pIpLgfhyFq/9/C65gv8p92tH1t39fVwEfultgljDG3G+MSTPGZOL6fH9ojLmOAKlfRGJEJK79MXAekEuAfH6MMcXAPhEZ7d51DpBHgNTfIxZdtLgQ2I6rX/THVl9IOE6NzwMHgBZc/+PfhKtf8wNgB/A+kOQ+V3CN3NkJfA3kWFz7qbh+ndwEbHB/XRhA9U8C1rvrzwUecO8fBnwJ5AMvAxHu/ZHu7Xz38WFWf348vpczgbcCqX53nRvdX5vbf0YD5fPjrmkKsNb9GXodSAyk+rv7pVP/lVIqSOhFUaWUChIa6EopFSQ00JVSKkhooCulVJDQQFdKqSChga6UUkFCA10ppYLE/wfVytLj/5p8WQAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>434</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x120991a50&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="mi">434</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.709141
Name: 434, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../alcohol.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;drinking&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>448</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12099ae90&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../drinking.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="mi">448</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.663636
Name: 448, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;drinking and alcohol&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>145</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x120ffec10&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../drinking and alcohol.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="n">cutoff</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.710183
Name: 145, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s2">&quot;../drinking and alcohol.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I'm 20 years old and still can't figure out where my clit is 😒😞</td>
      <td>-4.845</td>
      <td>0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>A beard can either make or break you</td>
      <td>40.235</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>You know what would get me hard right now, you whippin your dick out! 👬</td>
      <td>52.489</td>
      <td>0</td>
    </tr>
    <tr>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>When did the bitch from frozen come to auburn? This is getting a little ridiculous</td>
      <td>43.434</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Do guys find tall girls attractive, like +6foot?</td>
      <td>71.722</td>
      <td>0</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4995</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I've become super good friends with my suite, but barely know people outside of that</td>
      <td>121.684</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4996</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Instagram quit lackin and fuckin load</td>
      <td>74.478</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4997</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Matlab takes fucking forever to download, so much for bringing my laptop to class</td>
      <td>39.025</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4998</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Don't read yik yak when you're high. You'll take each sentence literally and consider each word seriously</td>
      <td>98.645</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4999</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Taking the long way to class to avoid the flyer handouts...</td>
      <td>8.999</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5000 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>


<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>



<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">cutoff</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">ddd</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="mi">1000</span><span class="p">:]</span>
<span class="n">ddd</span><span class="p">[</span><span class="n">ddd</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">ddd</span><span class="p">[</span><span class="s2">&quot;Drinking&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1028</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I do t understand how people drink unsweet tea</td>
      <td>188.243</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1043</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I am in a sorority, I think I'm fun to be around but I seriously have no friends. I'm thinking about ending it</td>
      <td>154.458</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1100</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>So it's my 21st today, and shit it's like the fucking universe aligned that it's a Friday and tomorrow is waste management and Sunday is the super bowl.</td>
      <td>156.103</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1198</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>These teachers need to learn to teach in the dark. Wayyyyyy too hungover for these bright lights.</td>
      <td>143.536</td>
      <td>0</td>
    </tr>
    <tr>
      <td>1200</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>I've never been to a frat party before. Do you have to know someone in the fraternity, or do you just show up and look attractive?</td>
      <td>160.826</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4904</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Mimosas... That is all</td>
      <td>163.003</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4930</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>U of A students #YOLO with wine coolers.</td>
      <td>189.143</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4971</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>When your friend asks if you had a rough night, nope I'm just ugly lol</td>
      <td>150.042</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4980</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>My girlfriend and I had unprotected sex a couple weeks ago. Her period was supposed to come 3 days ago.... #help</td>
      <td>187.210</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you and pick up the pizza / beer, are bae af.</td>
      <td>120.869</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>111 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">betterTrain</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">5000</span><span class="p">:]</span>
<span class="n">betterTrainAlcohol</span> <span class="o">=</span> <span class="n">betterTrain</span><span class="p">[</span><span class="n">betterTrain</span><span class="o">.</span><span class="n">Drinking</span><span class="o">==</span><span class="mi">1</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span>
<span class="n">betterTrainNoAlcohol</span> <span class="o">=</span> <span class="n">betterTrain</span><span class="p">[</span><span class="n">betterTrain</span><span class="o">.</span><span class="n">Drinking</span><span class="o">!=</span><span class="mi">1</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">newtrgts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">betterTrainAlcohol</span><span class="p">,</span> <span class="n">betterTrainNoAlcohol</span><span class="p">,</span> <span class="n">trgts</span><span class="p">[</span><span class="mi">200</span><span class="p">:]])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span> <span class="o">=</span> <span class="n">newtrgts</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>

<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;drinking and alcohol&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>


<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1210d59d0&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../drinking and alcohol_smartstart.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">cutoff</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="n">cutoff</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.668235
Name: 134, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;Drinking&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Little Italy drunchies tho</td>
      <td>104.135</td>
      <td>0</td>
    </tr>
    <tr>
      <td>10</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Starting off the New Year with money from working the NYE Tempe Block party, no hangover and the gym this afternoon. You better believe I'm doing 2015 right!</td>
      <td>102.506</td>
      <td>0</td>
    </tr>
    <tr>
      <td>17</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Where are the babes that just wanna drink whiskey and come over to my place to play Mario Kart?</td>
      <td>102.380</td>
      <td>0</td>
    </tr>
    <tr>
      <td>21</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Hey Chem 102 students: I know we just met and you're hoping to learn shit, but I'm very drunk and won't want to get up tomorrow, so please just stay home. Love, your TA</td>
      <td>113.618</td>
      <td>0</td>
    </tr>
    <tr>
      <td>42</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Already realizing how tough this semester is going to be without my best friend. I need a new right hand lady. Accepting applications now Netflix and wine are a plus</td>
      <td>117.300</td>
      <td>0</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4930</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>U of A students #YOLO with wine coolers.</td>
      <td>189.428</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4971</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>When your friend asks if you had a rough night, nope I'm just ugly lol</td>
      <td>150.255</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4980</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>My girlfriend and I had unprotected sex a couple weeks ago. Her period was supposed to come 3 days ago.... #help</td>
      <td>187.210</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4981</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Party at regents. Girls invited</td>
      <td>136.849</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you and pick up the pizza / beer, are bae af.</td>
      <td>123.328</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>177 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="TRY-OR">TRY OR<a class="anchor-link" href="#TRY-OR"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;drunk or drinking&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:18: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:26: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12106ea50&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../drunk or drinking.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="n">cutoff</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.702439
Name: 139, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">cutoff</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">trgts</span><span class="p">[</span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;Drinking&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>18</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Are we allowed to call DART to get us home after leg day?</td>
      <td>175.699</td>
      <td>1</td>
    </tr>
    <tr>
      <td>20</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Everyone was getting turnt up and crazy while I was at home with an old high school friend watching The Incredibles. Now that was a fun New Years Eve ^_^</td>
      <td>27.021</td>
      <td>0</td>
    </tr>
    <tr>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Hangover 1 is still funny af</td>
      <td>192.883</td>
      <td>1</td>
    </tr>
    <tr>
      <td>243</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Anybody in sassnet wanna pregame?</td>
      <td>215.994</td>
      <td>1</td>
    </tr>
    <tr>
      <td>260</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Fireworks on campus or what...</td>
      <td>154.330</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4904</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Mimosas... That is all</td>
      <td>168.530</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4930</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>U of A students #YOLO with wine coolers.</td>
      <td>154.361</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4980</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>My girlfriend and I had unprotected sex a couple weeks ago. Her period was supposed to come 3 days ago.... #help</td>
      <td>170.715</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4981</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Party at regents. Girls invited</td>
      <td>182.094</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you and pick up the pizza / beer, are bae af.</td>
      <td>111.420</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>142 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Wine, beer, or liquor</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;wine or beer or liquor&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../wine or beer or liquor.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:18: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:26: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="n">cutoff</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.699229
Name: 80, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">cutoff</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">trgts</span><span class="p">[</span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;Drinking&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>20</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Everyone was getting turnt up and crazy while I was at home with an old high school friend watching The Incredibles. Now that was a fun New Years Eve ^_^</td>
      <td>2.436</td>
      <td>0</td>
    </tr>
    <tr>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Hangover 1 is still funny af</td>
      <td>91.131</td>
      <td>1</td>
    </tr>
    <tr>
      <td>98</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Motto to live by: lift heavy, drink heavy, study hard, fuck hard</td>
      <td>75.510</td>
      <td>0</td>
    </tr>
    <tr>
      <td>122</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>whose got the xanax</td>
      <td>115.351</td>
      <td>1</td>
    </tr>
    <tr>
      <td>135</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Saturday night, syllabus week. Blackout or blackout Devils. Turn up and get home safely yall.</td>
      <td>49.950</td>
      <td>0</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4851</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>If you've dated a redhead, raise your glasses. If not, raise your standards.</td>
      <td>86.292</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4904</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Mimosas... That is all</td>
      <td>138.967</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4930</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>U of A students #YOLO with wine coolers.</td>
      <td>83.420</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4976</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Jesus i just want weed is that too much to ask</td>
      <td>97.679</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you and pick up the pizza / beer, are bae af.</td>
      <td>39.593</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>142 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Drinking-Wine-and-Alcohol">Drinking Wine and Alcohol<a class="anchor-link" href="#Drinking-Wine-and-Alcohol"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;drinking wine and alcohol&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../drinking wine and alcohol.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:18: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:26: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="n">cutoff</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.655827
Name: 63, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">cutoff</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">trgts</span><span class="p">[</span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;Drinking&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>20</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Everyone was getting turnt up and crazy while I was at home with an old high school friend watching The Incredibles. Now that was a fun New Years Eve ^_^</td>
      <td>1.752</td>
      <td>0</td>
    </tr>
    <tr>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Hangover 1 is still funny af</td>
      <td>90.827</td>
      <td>1</td>
    </tr>
    <tr>
      <td>135</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Saturday night, syllabus week. Blackout or blackout Devils. Turn up and get home safely yall.</td>
      <td>31.090</td>
      <td>0</td>
    </tr>
    <tr>
      <td>208</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Anyone wanna grab a few beers at bdubs and watch the dallas/detroit game?</td>
      <td>16.275</td>
      <td>0</td>
    </tr>
    <tr>
      <td>243</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Anybody in sassnet wanna pregame?</td>
      <td>122.647</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4904</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Mimosas... That is all</td>
      <td>104.956</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4930</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>U of A students #YOLO with wine coolers.</td>
      <td>83.374</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4976</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>Jesus i just want weed is that too much to ask</td>
      <td>73.605</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4980</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>My girlfriend and I had unprotected sex a couple weeks ago. Her period was supposed to come 3 days ago.... #help</td>
      <td>97.001</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you and pick up the pizza / beer, are bae af.</td>
      <td>9.172</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>155 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Wine-or-beer">Wine or beer<a class="anchor-link" href="#Wine-or-beer"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;wine or beer&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../wine or beer.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:18: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:26: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="wine-beer">wine beer<a class="anchor-link" href="#wine-beer"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;wine beer&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../wine beer.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:18: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:26: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;wine or beer or alcohol or drunk&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../wine or beer or alcohol or drunk.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:14: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:18: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:26: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cutoff_f1_test</span><span class="p">[</span><span class="n">cutoff</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>f1    0.74928
Name: 63, dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">cutoff</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">trgts</span><span class="p">[</span><span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;Drinking&quot;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Library/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Drinking</th>
      <th>Tobacco</th>
      <th>Vaping</th>
      <th>Marijuana</th>
      <th>Illegal drugs</th>
      <th>Prescription drugs</th>
      <th>text</th>
      <th>seach_sim</th>
      <th>search_pos</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>20</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Everyone was getting turnt up and crazy while I was at home with an old high school friend watching The Incredibles. Now that was a fun New Years Eve ^_^</td>
      <td>23.584</td>
      <td>0</td>
    </tr>
    <tr>
      <td>44</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Hangover 1 is still funny af</td>
      <td>80.846</td>
      <td>1</td>
    </tr>
    <tr>
      <td>98</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Motto to live by: lift heavy, drink heavy, study hard, fuck hard</td>
      <td>16.911</td>
      <td>0</td>
    </tr>
    <tr>
      <td>122</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>whose got the xanax</td>
      <td>66.109</td>
      <td>1</td>
    </tr>
    <tr>
      <td>135</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Saturday night, syllabus week. Blackout or blackout Devils. Turn up and get home safely yall.</td>
      <td>13.851</td>
      <td>0</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>4627</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Classes start tomorrow and i dont have enough money to buy my books..... Well, time to drink the sad away</td>
      <td>108.103</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4827</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Turn 21 today! I'm one Turnt Devil</td>
      <td>16.343</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4904</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Mimosas... That is all</td>
      <td>84.335</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4915</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>My mom just texted me saying she's proud of me. I'm high rn and now i feel guilty about it now</td>
      <td>65.694</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4987</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Tbh girls that will watch the game with you and pick up the pizza / beer, are bae af.</td>
      <td>24.961</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>103 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="asdf">asdf<a class="anchor-link" href="#asdf"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">trgts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[:</span><span class="mi">5000</span><span class="p">]</span>
<span class="n">startIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">endIdx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="k">while</span> <span class="n">startIdx</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">trgts</span><span class="p">):</span>
    <span class="c1">#responses = responses + trgts[startIdx:endIdx].text.to_list()</span>
    
    <span class="n">responses</span> <span class="o">=</span> <span class="n">responses</span> <span class="o">+</span> <span class="n">openai</span><span class="o">.</span><span class="n">Engine</span><span class="p">(</span><span class="s2">&quot;davinci&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">documents</span><span class="o">=</span>\
                <span class="n">trgts</span><span class="p">[</span><span class="n">startIdx</span><span class="p">:</span><span class="n">endIdx</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">to_list</span><span class="p">(),</span> <span class="n">query</span><span class="o">=</span><span class="s2">&quot;wine or beer or alcohol or drunk&quot;</span><span class="p">)[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="n">startIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">endIdx</span> <span class="o">+=</span> <span class="mi">200</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s2">&quot;score&quot;</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">responses</span><span class="p">]</span>

<span class="n">cutoff_f1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>

<span class="n">cutoff</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cutoff</span>

<span class="n">cutoff_f1_test</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">700</span><span class="p">):</span>
    <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;search_pos&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">trgts</span><span class="p">[</span><span class="s2">&quot;seach_sim&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">i</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">trgts</span><span class="o">.</span><span class="n">Drinking</span><span class="p">[</span><span class="mi">1000</span><span class="p">:],</span> <span class="n">trgts</span><span class="o">.</span><span class="n">search_pos</span><span class="p">[</span><span class="mi">1000</span><span class="p">:])</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">cutoff_f1</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;train&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">cutoff_f1_test</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;f1&quot;</span><span class="p">:</span><span class="s2">&quot;test&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">trgts</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s2">&quot;../wine or beer or alcohol or drunk.pkl&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

